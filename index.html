<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- displays site properly based on user's device -->

    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./assets/images/favicon-32x32.png"
    />

    <title>
      Frontend Mentor | Newsletter sign-up form with success message
    </title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Raleway:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <main>
      <article class="sign-up">
        <section class="img-section">
          <img
            src="assets/images/illustration-sign-up-mobile.svg"
            alt="illustration-sign-up-mobile"
            id="mobile-img"
          />
          <img
            src="assets/images/illustration-sign-up-desktop.svg"
            alt="illustration-sign-up-desktop"
            id="desktop-img"
          />
        </section>
        <section class="txt-section">
          <h1>Stay updated!</h1>
          <p class="desc">
            Join 60,000+ product managers receiving monthly updates on:
          </p>

          <ul class="points">
            <li class="point">
              <img src="assets/images/icon-list.svg" alt="icon-list" />
              <p>Product discovery and building what matters</p>
            </li>
            <li class="point">
              <img src="assets/images/icon-list.svg" alt="icon-list" />
              <p>Measuring to ensure updates are a success</p>
            </li>
            <li class="point">
              <img src="assets/images/icon-list.svg" alt="icon-list" />
              <p>And much more!</p>
            </li>
          </ul>
          <form class="email-form">
            <div>
              <label for="email"
                ><p>Email address</p>
                <p class="err">Valid email required</p></label
              >
              <input
                type="email"
                name="email"
                id="email"
                placeholder="email@company.com "
              />
            </div>
            <button type="submit">Subscribe to monthly newsletter</button>
          </form>
        </section>
      </article>
      <article class="end hide">
        <div>
          <img src="assets/images/icon-success.svg" alt="icon-success" />
          <h1>Thanks for subscribing!</h1>
          <p>
            A confirmation email has been sent to <b>ash@loremcompany.com</b>.
            Please open it and click the button inside to confirm your
            subscription.
          </p>
        </div>
        <button id="dismiss">Dismiss message</button>
      </article>
    </main>
    <script>
      const form = document.querySelector(".email-form");
      const end = document.querySelector(".end");
      const endBtn = document.querySelector("#dismiss");
      const signup = document.querySelector(".sign-up");
      const input = document.querySelector("#email");

      form.addEventListener("submit", (e) => {
        e.preventDefault();

        const inputVal = input.value;
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

        if (emailRegex.test(inputVal)) {
          signup.classList.add("hide");
          end.classList.remove("hide");
          form.classList.remove("error");
        } else {
          form.classList.add("error");
        }
      });
      endBtn.addEventListener("click", () => {
        signup.classList.remove("hide");
        end.classList.add("hide");
      });
    </script>
  </body>
</html>
